<!DOCTYPE html>
<html>
<head>
  <style>
    .error {
        color: red;
    }
  </style>
  <script type="text/javascript" src="https://cdn.jsdelivr.net/npm//vega@5"></script>
  <script type="text/javascript" src="https://cdn.jsdelivr.net/npm//vega-lite@4.17.0"></script>
  <script type="text/javascript" src="https://cdn.jsdelivr.net/npm//vega-embed@6"></script>
</head>
<body>
  <div id="vis"></div>
  <script>
    (function(vegaEmbed) {
      var spec = {"config": {"view": {"continuousWidth": 400, "continuousHeight": 300}}, "vconcat": [{"data": {"url": "https://cdn.jsdelivr.net/npm/vega-datasets@v1.29.0/data/us-10m.json", "format": {"feature": "states", "type": "topojson"}}, "mark": "geoshape", "encoding": {"color": {"condition": {"field": "n_injured", "legend": null, "type": "quantitative", "selection": "selector001"}, "value": "lightgray"}, "tooltip": [{"field": "state", "type": "nominal"}, {"field": "n_injured", "type": "quantitative"}]}, "height": 300, "projection": {"type": "albersUsa"}, "selection": {"selector001": {"type": "multi", "fields": ["state", "n_injured"]}}, "title": "Number of People Injured by Gun Violence in Each State", "transform": [{"lookup": "id", "from": {"data": {"name": "data-f3907f6b0f0bf778edebff873b5d93e2"}, "key": "id", "fields": ["n_injured", "state"]}}], "width": 700}, {"data": {"name": "data-f3907f6b0f0bf778edebff873b5d93e2"}, "mark": "rect", "encoding": {"color": {"condition": {"field": "n_injured", "legend": null, "type": "quantitative", "selection": "selector001"}, "value": "lightgray"}, "x": {"field": "state", "type": "nominal"}, "y": {"axis": {"orient": "right"}, "field": "n_injured", "type": "quantitative"}}, "height": 300, "selection": {"selector002": {"type": "interval", "encodings": ["x"]}, "selector001": {"type": "multi", "fields": ["state", "n_injured"]}}, "width": 700}], "$schema": "https://vega.github.io/schema/vega-lite/v4.17.0.json", "datasets": {"data-f3907f6b0f0bf778edebff873b5d93e2": [{"state": "Alabama", "incident_id": 37000281, "n_killed": 84, "n_injured": 147, "incident_url_fields_missing": 0, "congressional_district": 1447.0, "latitude": 11188.8732, "longitude": -29266.7993, "n_guns_involved": 67.0, "state_house_district": 18309.0, "state_senate_district": 5886.0, "id": 1}, {"state": "Alaska", "incident_id": 4573655, "n_killed": 10, "n_injured": 10, "incident_url_fields_missing": 0, "congressional_district": 33.0, "latitude": 2260.2932, "longitude": -5393.946, "n_guns_involved": 7.0, "state_house_district": 486.0, "state_senate_district": 2.0, "id": 2}, {"state": "Arizona", "incident_id": 17269834, "n_killed": 57, "n_injured": 64, "incident_url_fields_missing": 0, "congressional_district": 753.0, "latitude": 4665.2095, "longitude": -15679.422, "n_guns_involved": 29.0, "state_house_district": 2540.0, "state_senate_district": 2540.0, "id": 3}, {"state": "Arkansas", "incident_id": 14952497, "n_killed": 34, "n_injured": 61, "incident_url_fields_missing": 0, "congressional_district": 313.0, "latitude": 4821.2964, "longitude": -12734.4435, "n_guns_involved": 20.0, "state_house_district": 5503.0, "state_senate_district": 3284.0, "id": 4}, {"state": "California", "incident_id": 106182241, "n_killed": 367, "n_injured": 473, "incident_url_fields_missing": 0, "congressional_district": 17834.0, "latitude": 27316.7732, "longitude": -90924.592, "n_guns_involved": 91.0, "state_house_district": 26697.0, "state_senate_district": 13569.0, "id": 5}, {"state": "Colorado", "incident_id": 14264942, "n_killed": 55, "n_injured": 37, "incident_url_fields_missing": 0, "congressional_district": 461.0, "latitude": 4610.2429, "longitude": -12294.332, "n_guns_involved": 3.0, "state_house_district": 2973.0, "state_senate_district": 2213.0, "id": 6}, {"state": "Connecticut", "incident_id": 14334562, "n_killed": 14, "n_injured": 48, "incident_url_fields_missing": 0, "congressional_district": 256.0, "latitude": 4315.8944, "longitude": -7578.2679, "n_guns_involved": 14.0, "state_house_district": 7242.0, "state_senate_district": 1418.0, "id": 7}, {"state": "Delaware", "incident_id": 9159218, "n_killed": 10, "n_injured": 34, "incident_url_fields_missing": 0, "congressional_district": 75.0, "latitude": 2965.9476, "longitude": -5667.088, "n_guns_involved": 13.0, "state_house_district": 1043.0, "state_senate_district": 578.0, "id": 8}, {"state": "District of Columbia", "incident_id": 22597809, "n_killed": 44, "n_injured": 42, "incident_url_fields_missing": 0, "congressional_district": 187.0, "latitude": 7274.0184, "longitude": -14398.265800000001, "n_guns_involved": 7.0, "state_house_district": 0.0, "state_senate_district": 0.0, "id": 9}, {"state": "Florida", "incident_id": 100892518, "n_killed": 243, "n_injured": 452, "incident_url_fields_missing": 0, "congressional_district": 11561.0, "latitude": 24291.4076, "longitude": -70850.7411, "n_guns_involved": 61.0, "state_house_district": 51236.0, "state_senate_district": 17249.0, "id": 10}, {"state": "Georgia", "incident_id": 37934467, "n_killed": 100, "n_injured": 162, "incident_url_fields_missing": 0, "congressional_district": 1727.0, "latitude": 10020.2117, "longitude": -25404.5131, "n_guns_involved": 25.0, "state_house_district": 32591.0, "state_senate_district": 7875.0, "id": 11}, {"state": "Hawaii", "incident_id": 1267927, "n_killed": 2, "n_injured": 5, "incident_url_fields_missing": 0, "congressional_district": 17.0, "latitude": 209.9364, "longitude": -1575.074, "n_guns_involved": 4.0, "state_house_district": 142.0, "state_senate_district": 73.0, "id": 12}, {"state": "Idaho", "incident_id": 3137000, "n_killed": 5, "n_injured": 6, "incident_url_fields_missing": 0, "congressional_district": 38.0, "latitude": 1159.4843, "longitude": -2998.302, "n_guns_involved": 5.0, "state_house_district": 412.0, "state_senate_district": 412.0, "id": 13}, {"state": "Illinois", "incident_id": 64233149, "n_killed": 123, "n_injured": 345, "incident_url_fields_missing": 0, "congressional_district": 4230.0, "latitude": 20138.2313, "longitude": -43206.8862, "n_guns_involved": 60.0, "state_house_district": 25192.0, "state_senate_district": 12714.0, "id": 14}, {"state": "Indiana", "incident_id": 38942473, "n_killed": 98, "n_injured": 165, "incident_url_fields_missing": 0, "congressional_district": 1640.0, "latitude": 13112.2528, "longitude": -28124.6186, "n_guns_involved": 38.0, "state_house_district": 20552.0, "state_senate_district": 8322.0, "id": 15}, {"state": "Iowa", "incident_id": 15778036, "n_killed": 16, "n_injured": 49, "incident_url_fields_missing": 0, "congressional_district": 360.0, "latitude": 6029.252, "longitude": -13423.1487, "n_guns_involved": 10.0, "state_house_district": 6481.0, "state_senate_district": 3283.0, "id": 16}, {"state": "Kansas", "incident_id": 7936534, "n_killed": 25, "n_injured": 46, "incident_url_fields_missing": 0, "congressional_district": 171.0, "latitude": 2223.0127, "longitude": -5602.5905999999995, "n_guns_involved": 2.0, "state_house_district": 4205.0, "state_senate_district": 1185.0, "id": 17}, {"state": "Kentucky", "incident_id": 25958713, "n_killed": 31, "n_injured": 80, "incident_url_fields_missing": 0, "congressional_district": 904.0, "latitude": 8570.9994, "longitude": -19260.3676, "n_guns_involved": 9.0, "state_house_district": 131.0, "state_senate_district": 34.0, "id": 18}, {"state": "Louisiana", "incident_id": 59025256, "n_killed": 114, "n_injured": 275, "incident_url_fields_missing": 0, "congressional_district": 1545.0, "latitude": 15362.8565, "longitude": -45833.0079, "n_guns_involved": 45.0, "state_house_district": 33160.0, "state_senate_district": 7744.0, "id": 19}, {"state": "Maine", "incident_id": 4800856, "n_killed": 0, "n_injured": 12, "incident_url_fields_missing": 0, "congressional_district": 58.0, "latitude": 1640.0749, "longitude": -2583.0322, "n_guns_involved": 2.0, "state_house_district": 2738.0, "state_senate_district": 712.0, "id": 20}, {"state": "Maryland", "incident_id": 31497314, "n_killed": 77, "n_injured": 110, "incident_url_fields_missing": 0, "congressional_district": 1221.0, "latitude": 10309.2238, "longitude": -20165.2099, "n_guns_involved": 17.0, "state_house_district": 5781.0, "state_senate_district": 8464.0, "id": 21}, {"state": "Massachusetts", "incident_id": 22026040, "n_killed": 21, "n_injured": 50, "incident_url_fields_missing": 0, "congressional_district": 801.0, "latitude": 7597.643, "longitude": -12888.4668, "n_guns_involved": 17.0, "state_house_district": 328.0, "state_senate_district": 13.0, "id": 22}, {"state": "Michigan", "incident_id": 40418448, "n_killed": 69, "n_injured": 168, "incident_url_fields_missing": 0, "congressional_district": 2584.0, "latitude": 12776.9528, "longitude": -25082.4181, "n_guns_involved": 51.0, "state_house_district": 13083.0, "state_senate_district": 5292.0, "id": 23}, {"state": "Minnesota", "incident_id": 11754667, "n_killed": 24, "n_injured": 36, "incident_url_fields_missing": 0, "congressional_district": 424.0, "latitude": 4325.403, "longitude": -8961.4779, "n_guns_involved": 9.0, "state_house_district": 0.0, "state_senate_district": 4049.0, "id": 24}, {"state": "Mississippi", "incident_id": 25812664, "n_killed": 54, "n_injured": 100, "incident_url_fields_missing": 0, "congressional_district": 588.0, "latitude": 7458.646, "longitude": -20599.0767, "n_guns_involved": 45.0, "state_house_district": 15594.0, "state_senate_district": 6577.0, "id": 25}, {"state": "Missouri", "incident_id": 27064849, "n_killed": 87, "n_injured": 118, "incident_url_fields_missing": 0, "congressional_district": 763.0, "latitude": 8052.4511, "longitude": -19206.5858, "n_guns_involved": 20.0, "state_house_district": 15239.0, "state_senate_district": 2976.0, "id": 26}, {"state": "Montana", "incident_id": 3573785, "n_killed": 17, "n_injured": 10, "incident_url_fields_missing": 0, "congressional_district": 29.0, "latitude": 1364.4447, "longitude": -3265.102, "n_guns_involved": 1.0, "state_house_district": 0.0, "state_senate_district": 0.0, "id": 27}, {"state": "Nebraska", "incident_id": 4113974, "n_killed": 8, "n_injured": 14, "incident_url_fields_missing": 0, "congressional_district": 70.0, "latitude": 1359.5317, "longitude": -3191.8682, "n_guns_involved": 4.0, "state_house_district": 0.0, "state_senate_district": 562.0, "id": 28}, {"state": "Nevada", "incident_id": 9555960, "n_killed": 27, "n_injured": 35, "incident_url_fields_missing": 0, "congressional_district": 136.0, "latitude": 2749.8977, "longitude": -8623.504, "n_guns_involved": 4.0, "state_house_district": 1621.0, "state_senate_district": 813.0, "id": 29}, {"state": "New Hampshire", "incident_id": 4064134, "n_killed": 6, "n_injured": 9, "incident_url_fields_missing": 0, "congressional_district": 41.0, "latitude": 1380.6938, "longitude": -2281.7834, "n_guns_involved": 4.0, "state_house_district": 0.0, "state_senate_district": 407.0, "id": 30}, {"state": "New Jersey", "incident_id": 37769238, "n_killed": 59, "n_injured": 158, "incident_url_fields_missing": 0, "congressional_district": 1780.0, "latitude": 10956.148, "longitude": -20270.5933, "n_guns_involved": 22.0, "state_house_district": 5037.0, "state_senate_district": 5077.0, "id": 31}, {"state": "New Mexico", "incident_id": 7985932, "n_killed": 25, "n_injured": 25, "incident_url_fields_missing": 0, "congressional_district": 103.0, "latitude": 1928.7076, "longitude": -5955.281, "n_guns_involved": 10.0, "state_house_district": 1895.0, "state_senate_district": 1233.0, "id": 32}, {"state": "New York", "incident_id": 55250640, "n_killed": 96, "n_injured": 221, "incident_url_fields_missing": 0, "congressional_district": 6409.0, "latitude": 16047.5819, "longitude": -28836.7803, "n_guns_involved": 54.0, "state_house_district": 35551.0, "state_senate_district": 14610.0, "id": 33}, {"state": "North Carolina", "incident_id": 60597952, "n_killed": 124, "n_injured": 233, "incident_url_fields_missing": 0, "congressional_district": 3162.0, "latitude": 17583.5823, "longitude": -39329.0062, "n_guns_involved": 46.0, "state_house_district": 25544.0, "state_senate_district": 10920.0, "id": 34}, {"state": "North Dakota", "incident_id": 1761177, "n_killed": 5, "n_injured": 1, "incident_url_fields_missing": 0, "congressional_district": 16.0, "latitude": 757.7835, "longitude": -1594.1468, "n_guns_involved": 1.0, "state_house_district": 377.0, "state_senate_district": 377.0, "id": 35}, {"state": "Ohio", "incident_id": 69455229, "n_killed": 145, "n_injured": 255, "incident_url_fields_missing": 0, "congressional_district": 4321.0, "latitude": 23901.4404, "longitude": -49203.8859, "n_guns_involved": 70.0, "state_house_district": 22801.0, "state_senate_district": 8345.0, "id": 36}, {"state": "Oklahoma", "incident_id": 12383713, "n_killed": 51, "n_injured": 54, "incident_url_fields_missing": 0, "congressional_district": 263.0, "latitude": 3241.0056, "longitude": -8810.7804, "n_guns_involved": 5.0, "state_house_district": 5861.0, "state_senate_district": 2525.0, "id": 37}, {"state": "Oregon", "incident_id": 14336383, "n_killed": 24, "n_injured": 30, "incident_url_fields_missing": 0, "congressional_district": 323.0, "latitude": 4403.1411, "longitude": -11971.5586, "n_guns_involved": 16.0, "state_house_district": 3270.0, "state_senate_district": 1666.0, "id": 38}, {"state": "Pennsylvania", "incident_id": 82397041, "n_killed": 147, "n_injured": 295, "incident_url_fields_missing": 0, "congressional_district": 3807.0, "latitude": 20009.9292, "longitude": -37918.8038, "n_guns_involved": 76.0, "state_house_district": 1483.0, "state_senate_district": 245.0, "id": 39}, {"state": "Rhode Island", "incident_id": 4337355, "n_killed": 5, "n_injured": 22, "incident_url_fields_missing": 0, "congressional_district": 58.0, "latitude": 1421.2634, "longitude": -2428.6237, "n_guns_involved": 5.0, "state_house_district": 610.0, "state_senate_district": 390.0, "id": 40}, {"state": "South Carolina", "incident_id": 37186590, "n_killed": 90, "n_injured": 148, "incident_url_fields_missing": 0, "congressional_district": 1310.0, "latitude": 10389.3598, "longitude": -24737.3892, "n_guns_involved": 29.0, "state_house_district": 22051.0, "state_senate_district": 7886.0, "id": 41}, {"state": "South Dakota", "incident_id": 762225, "n_killed": 1, "n_injured": 2, "incident_url_fields_missing": 0, "congressional_district": 7.0, "latitude": 309.7901, "longitude": -695.8974000000001, "n_guns_involved": 0.0, "state_house_district": 117.0, "state_senate_district": 117.0, "id": 42}, {"state": "Tennessee", "incident_id": 44547029, "n_killed": 111, "n_injured": 242, "incident_url_fields_missing": 0, "congressional_district": 2030.0, "latitude": 13313.433, "longitude": -32405.2197, "n_guns_involved": 33.0, "state_house_district": 20084.0, "state_senate_district": 7023.0, "id": 43}, {"state": "Texas", "incident_id": 99293204, "n_killed": 262, "n_injured": 319, "incident_url_fields_missing": 0, "congressional_district": 15110.0, "latitude": 22963.6541, "longitude": -72507.0501, "n_guns_involved": 85.0, "state_house_district": 63960.0, "state_senate_district": 12004.0, "id": 44}, {"state": "Utah", "incident_id": 5100163, "n_killed": 18, "n_injured": 14, "incident_url_fields_missing": 0, "congressional_district": 87.0, "latitude": 1571.0761, "longitude": -4364.357, "n_guns_involved": 7.0, "state_house_district": 1518.0, "state_senate_district": 516.0, "id": 45}, {"state": "Vermont", "incident_id": 3468295, "n_killed": 3, "n_injured": 2, "incident_url_fields_missing": 0, "congressional_district": 25.0, "latitude": 1103.0597, "longitude": -1822.7253, "n_guns_involved": 4.0, "state_house_district": 0.0, "state_senate_district": 0.0, "id": 46}, {"state": "Virginia", "incident_id": 32195188, "n_killed": 63, "n_injured": 139, "incident_url_fields_missing": 0, "congressional_district": 1165.0, "latitude": 10004.4853, "longitude": -20734.4339, "n_guns_involved": 23.0, "state_house_district": 17909.0, "state_senate_district": 3662.0, "id": 47}, {"state": "Washington", "incident_id": 27268641, "n_killed": 61, "n_injured": 85, "incident_url_fields_missing": 0, "congressional_district": 1080.0, "latitude": 8858.9966, "longitude": -22778.002, "n_guns_involved": 36.0, "state_house_district": 4511.0, "state_senate_district": 4511.0, "id": 48}, {"state": "West Virginia", "incident_id": 9767058, "n_killed": 20, "n_injured": 28, "incident_url_fields_missing": 0, "congressional_district": 180.0, "latitude": 3122.2437, "longitude": -6590.9625, "n_guns_involved": 8.0, "state_house_district": 2439.0, "state_senate_district": 684.0, "id": 49}, {"state": "Wisconsin", "incident_id": 22997454, "n_killed": 32, "n_injured": 73, "incident_url_fields_missing": 0, "congressional_district": 767.0, "latitude": 8931.7302, "longitude": -18282.6488, "n_guns_involved": 19.0, "state_house_district": 8623.0, "state_senate_district": 2947.0, "id": 50}, {"state": "Wyoming", "incident_id": 1117218, "n_killed": 2, "n_injured": 3, "incident_url_fields_missing": 0, "congressional_district": 8.0, "latitude": 345.2477, "longitude": -858.775, "n_guns_involved": 0.0, "state_house_district": 349.0, "state_senate_district": 163.0, "id": 51}]}};
      var embedOpt = {"mode": "vega-lite"};

      function showError(el, error){
          el.innerHTML = ('<div class="error" style="color:red;">'
                          + '<p>JavaScript Error: ' + error.message + '</p>'
                          + "<p>This usually means there's a typo in your chart specification. "
                          + "See the javascript console for the full traceback.</p>"
                          + '</div>');
          throw error;
      }
      const el = document.getElementById('vis');
      vegaEmbed("#vis", spec, embedOpt)
        .catch(error => showError(el, error));
    })(vegaEmbed);

  </script>
</body>
</html>